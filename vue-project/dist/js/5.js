webpackJsonp([5],{196:function(t,n,e){"use strict";function o(t){r||e(228)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(230),i=e.n(a),s=e(231),r=!1,d=e(5),c=o,l=d(i.a,s.a,!1,c,"data-v-246a4d5c",null);l.options.__file="src\\components\\shopCart\\shopCart.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.default=l.exports},206:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(7);n.default={hostUrl:"http://vue.studyit.io/",startLoadingAnimate:function(){o.Indicator.open({text:"甭催了，越催越忙 \\(^o^)/",spinnerType:"triple-bounce"})},endLoadingAnimate:function(){setTimeout(function(){o.Indicator.close()},1e3)},toastText:function(t){(0,o.Toast)({message:t||"抱歉,评论信息不能为空!",position:"middle",duration:2e3})}}},228:function(t,n,e){var o=e(229);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(6)("3475b735",o,!1)},229:function(t,n,e){n=t.exports=e(3)(void 0),n.push([t.i,"\np[data-v-246a4d5c] {\n  margin: 0;\n}\n.m-bottom[data-v-246a4d5c] {\n  margin-bottom: 80px;\n}\n.wrapper[data-v-246a4d5c] {\n  display: flex;\n  align-items: center;\n  height: 100px;\n  padding: 0px 5px;\n  border-bottom: 1px solid rgba(92, 92, 92, 0.3);\n}\n.goods-pic[data-v-246a4d5c] {\n  padding: 5px;\n  border: 1px solid rgba(92, 92, 92, 0.3);\n  border-radius: 5px;\n  margin-right: 5px;\n  margin-left: 5px;\n}\n.goods-pic img[data-v-246a4d5c] {\n  width: 65px;\n  height: 65px;\n  vertical-align: middle;\n}\n.content[data-v-246a4d5c] {\n  flex: 1;\n}\n.content p[data-v-246a4d5c]{\n  display: flex;\n  justify-content: space-between;\n  padding-right: 10px;\n}\n.content p span[data-v-246a4d5c]:first-of-type {\n  color: #f10215;\n}\n.content p span[data-v-246a4d5c]:last-of-type {\n  color: #666;\n}\nh5[data-v-246a4d5c] {\n  color: #0094ff;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  font-size: 16px;\n}\n.delete-btn[data-v-246a4d5c] {\n  margin-left: 5px;\n}\n.total-price[data-v-246a4d5c] {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 80px;\n  background-color: #ccc;\n  z-index: 3;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0px 10px;\n}\n.total-price p span[data-v-246a4d5c] {\n  color: #f10215;\n  font-size: 18px;\n}\n",""])},230:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(7),a=e(206),i=function(t){return t&&t.__esModule?t:{default:t}}(a);n.default={data:function(){return{shopCartList:[],totalCount:0,totalPirce:0}},created:function(){i.default.startLoadingAnimate(),this.getShopCartData()},updated:function(){this.getTotalPrice()},methods:{getShopCartData:function(){var t=this,n=this.$store.getters.getShopCartData;if(n.length>0){var e={};n.forEach(function(t){e[t.goodsId]?e[t.goodsId]+=t.count:e[t.goodsId]=t.count});var o=[];for(var a in e)o.push(a);var s=o.join(","),r=i.default.hostUrl+"api/goods/getshopcarlist/"+s;this.$http.get(r).then(function(n){n.body.message.forEach(function(t){t.count=e[t.id],t.toggle=!0}),t.shopCartList=n.body.message,i.default.endLoadingAnimate()})}else i.default.endLoadingAnimate()},getTotalPrice:function(){var t=0,n=0;this.shopCartList.forEach(function(e){e.toggle&&(n+=e.count,t+=e.count*e.sell_price)}),this.totalPirce=t,this.totalCount=n},deleteGoodsForId:function(t,n){var e=this;o.MessageBox.confirm("确定删除此商品吗?").then(function(o){e.$store.commit("delelteGoodsForId",t),e.shopCartList.splice(n,1),i.default.toastText("删除成功！")},function(t){console.log("取消操作")})},goClearing:function(){i.default.toastText("不用付了，店家免费送...")}}}},231:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"m-bottom"},[e("p",{directives:[{name:"show",rawName:"v-show",value:0===t.shopCartList.length,expression:"shopCartList.length === 0?true:false"}]},[t._v("\n      客官，没选商品肯定是肯定是空空如也的哦，点\n      "),e("router-link",{attrs:{to:"/goods/goodsList"}},[t._v("这里")]),t._v("到商品中心抢几件吧！\n    ")],1),t._v(" "),t._l(t.shopCartList,function(n,o){return e("div",{key:n.id,staticClass:"wrapper"},[e("div",{staticClass:"toggle"},[e("mt-switch",{on:{change:function(n){t.getTotalPrice()}},model:{value:n.toggle,callback:function(e){t.$set(n,"toggle",e)},expression:"item.toggle"}})],1),t._v(" "),e("div",{staticClass:"goods-pic"},[e("img",{attrs:{src:n.thumb_path,alt:""}})]),t._v(" "),e("div",{staticClass:"content"},[e("h5",[t._v(t._s(n.title))]),t._v(" "),e("p",[e("span",[t._v("￥："+t._s(n.sell_price))]),t._v(" "),e("span",[t._v("数量："+t._s(n.count))])])]),t._v(" "),e("div",{staticClass:"delete-btn"},[e("mt-button",{attrs:{type:"danger",disabled:!n.toggle,size:"small"},on:{click:function(e){t.deleteGoodsForId(n.id,o)}}},[t._v("删除")])],1)])})],2),t._v(" "),e("div",{staticClass:"total-price"},[e("div",{staticClass:"left"},[e("h4",[t._v("总价（不含运费）")]),t._v(" "),e("p",[t._v("\n        已经勾选商品 "),e("span",[t._v(t._s(t.totalCount))]),t._v(" 件，总价："),e("span",[t._v(t._s(t.totalPirce))]),e("sub",[t._v("元")])])]),t._v(" "),e("div",{staticClass:"right"},[e("mt-button",{attrs:{size:"normal",type:"danger"},on:{click:t.goClearing}},[t._v("去结算")])],1)])])},a=[];o._withStripped=!0;var i={render:o,staticRenderFns:a};n.a=i}});